<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Quản lý danh mục</title>
    <link rel="stylesheet" href="/styles/category.css">
</head>

<body>
    <div class="container">
        <h1>Quản lý danh mục</h1>

        <div class="header-row">
            <h2>Danh sách danh mục</h2>
            <button id="create-category-btn" class="create-btn">Tạo danh mục</button>
        </div>

        <table class="category-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Tên danh mục</th>
                    <th>Mô tả</th>
                    <th>Thao tác</th> <!-- Thêm cột Thao tác -->
                </tr>
            </thead>
            <tbody>
                <% data.categories.forEach(category=> { %>
                    <tr data-id="<%= category.id %>" data-name="<%= category.name %>"
                        data-description="<%= category.description %>">
                        <td>
                            <%= category.id %>
                        </td>
                        <td>
                            <%= category.name %>
                        </td>
                        <td>
                            <%= category.description %>
                        </td>
                        <td>
                            <button class="delete-btn" data-id="<%= category.id %>">Xóa</button>
                        </td>
                    </tr>
                    <% }); %>
            </tbody>
        </table>
    </div>

    <!-- Modal chỉnh sửa danh mục -->
    <div class="modal-overlay" id="edit-modal-overlay"></div>
    <div class="modal" id="edit-category-modal">
        <h2>Chi tiết danh mục</h2>
        <form id="edit-category-form">
            <label for="category-id">ID</label>
            <input type="text" id="category-id" name="id" readonly>

            <label for="category-name">Tên danh mục</label>
            <input type="text" id="category-name" name="name">

            <label for="category-description">Mô tả</label>
            <textarea id="category-description" name="description"></textarea>

            <button type="button" id="update-category-btn">Cập nhật</button>
        </form>
    </div>

    <!-- Modal tạo danh mục mới -->
    <div class="modal-overlay" id="create-modal-overlay"></div>
    <div class="modal" id="create-category-modal">
        <h2>Tạo danh mục mới</h2>
        <form id="create-category-form">
            <label for="new-category-name">Tên danh mục</label>
            <input type="text" id="new-category-name" name="name" required>

            <label for="new-category-description">Mô tả</label>
            <textarea id="new-category-description" name="description" required></textarea>

            <button type="button" id="save-category-btn">Lưu</button>
        </form>
    </div>

    <!-- Modal xác nhận xóa danh mục -->
    <div class="modal-overlay" id="delete-modal-overlay"></div>
    <div class="modal" id="delete-category-modal">
        <h2>Xác nhận xóa danh mục</h2>
        <p>Bạn có chắc chắn muốn xóa danh mục này không?</p>
        <button type="button" id="confirm-delete-btn">Xóa</button>
        <button type="button" id="cancel-delete-btn">Hủy</button>
    </div>

    <script src="/javascript/category/index.js"></script>

</body>

</html>